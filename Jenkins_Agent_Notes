Create 2 EC2 instance for Master & Agent Instance - Install Jenkins in Master instance - it becomes master Jenkins (Jenkins can install only in Jenkins Master instance & its not required to install Jenkins in agent instance but Java should be installed in agent)

1. Connecting b/w Jenkins & agent using SSH (SSH keygen - generate Pubkey & Prikey for connecting instance)
   We need to connect from Master to Agent
   Master Instance - 
   cd ~/.ssh (.ssh folder will available where all the keys are store)
   ls (authorised_keys - available)
   ssh-keygen ( keep it default for all) - Now the pub & pri key is generated with eg: id_ed25519 (pri key) & id_ed25519.pub (pub key) &                                              Pri key should be keeping in master & pubkey should be keep in agent instance.
   cat id_ed25519.pub - copy the content of pubkey & go to agent 

2. Create one instance for agent & Install Java
   sudo apt-get update -y
   sudo apt install fontconfig openjdk-21-jre -y
Copy pub-key (id_ed25519.pub) from master instance
Agent instance - cd .ssh/ & ls then find authorised_keys & now vim authorised_keys & press i then at the end paste the pub-key content here & save & closed (wq!).  
 
3. Setup Agent 
Jenkins Dashboard ->Manage Jenkins->Setup agent->provide node name as Agent-vinod->Type - select Permanent agent->Create
Provide Description - This is an ubuntu machine agent
No. of executors - keep it 1 for learning
Remote root directory - /home/ubuntu
Labels - vinod
Usage- Use this node as much as possible
launch method - Launch agens via SSH
Host - Agent instance pub ip address
Credential ->add->Kind-SSH Username with private key->ID-Ubuntu-key->Description-Ubuntu-key->Username-ubuntu->Private Key->select Enter directly->add->paste pri-key content->passphrase - keep it blank->add (Master instance - cat id_ed25519 that is prikey & copy the content)
Credential - dropdown & select Ubuntu-key
Host key verification strategy - Non verify verification strategy
Save
